record(ao, "$(PREFIX):TDP_XY_DEC:Size")
{
	field(PINI, "YES")
	field(VAL,  "$(SIZE)")
	field(SCAN, "1 second")
	field(DRVL, "1")
	field(DRVH, "$(MAX_SIZE)")
}

record(waveform, "$(PREFIX):TDP_XY_DEC")
{
	field(PINI, "YES")
	field(SCAN, "1 second")
	field(DISA, "1")
	field(DTYP, "stream")
	field(INP,  "@data.proto read_data(TDP_XY_DEC,$(PREFIX):TDP_XY_DEC:Size) $(PORT)")
	field(NELM, "$(BUFFER)")
	field(FTVL, "SHORT")
}

record(aSub, "$(PREFIX):TDP_XY_DEC:SUB")
{
	field(PINI, "YES")
	field(SNAM, "split_2_way")
	field(INPA, "$(PREFIX):TDP_XY_DEC CP") field(FTA,  "SHORT") field(NOA,  "$(BUFFER)")
	field(OUTA, "$(PREFIX):TDP_XY_DEC:X")  field(FTVA, "SHORT") field(NOVA, "$(MAX_SIZE)")
	field(OUTB, "$(PREFIX):TDP_XY_DEC:Y")  field(FTVB, "SHORT") field(NOVB, "$(MAX_SIZE)")
}

record(waveform, "$(PREFIX):TDP_XY_DEC:X")
{
	field(PINI, "YES")
	field(SCAN, "1 second")
	field(NELM, "$(MAX_SIZE)")
	field(FTVL, "SHORT")
}

record(waveform, "$(PREFIX):TDP_XY_DEC:Y")
{
	field(PINI, "YES")
	field(SCAN, "1 second")
	field(NELM, "$(MAX_SIZE)")
	field(FTVL, "SHORT")
}

